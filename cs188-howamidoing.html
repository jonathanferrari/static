<!DOCTYPE html>
<html>

<head>
    <title>Final Grade Estimator</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <style>
        h1 {
            text-align: center;
        }
        
        h3 {
            text-align: center;
        }
        
        form {
            margin: 50px auto;
            max-width: 600px;
        }
        
        fieldset {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
        }
        
        legend {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }
        
        select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }
        
        button {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: #fff;
            font-size: 16px;
            cursor: pointer;
        }
        
        span {
            font-size: 24px;
            font-weight: bold;
            color: #007bff;
        }
        
        input[type="checkbox"] {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
            background-color: #fff;
        }
    </style>
    <script>
        function calculateGrade() {
            // Get input values
            var projectScore = parseFloat(document.getElementById("projectScore").value) / 100;
            var homeworkScore = parseFloat(document.getElementById("homeworkScore").value) / 100;
            var midtermScore = parseFloat(document.getElementById("midtermScore").value) / 100;
            var discussionSectionCount = parseInt(document.getElementById("discussionSectionCount").value);
            var finalWeight = 0.35;
            var discussionSectionExtraCredit = discussionSectionCount * 0.001;
            var projExtraCredit = document.getElementById("projExtraCredit").checked ? (1 / 125) : 0;
            var mtExtraCredit = document.getElementById("mtExtraCredit").checked ? (.01) : 0;
            // Calculate weighted scores
            var projectWeight = 0.25;
            var homeworkWeight = 0.20;
            var midtermWeight = 0.20;
            var projectWeightedScore = (projectScore + projExtraCredit) * projectWeight;
            var homeworkWeightedScore = homeworkScore * homeworkWeight;
            var midtermWeightedScore = (midtermScore + mtExtraCredit) * midtermWeight;
            var weightedScore = projectWeightedScore + homeworkWeightedScore + midtermWeightedScore;

            // Add extra credit
            var totalScore = weightedScore + discussionSectionExtraCredit;

            // Calculate required final score for desired grade
            var desiredGrade = document.getElementById("desiredGrade").value;
            var requiredFinalScore = 0;
            if (desiredGrade == "A") {
                requiredFinalScore = (0.85 - totalScore) / finalWeight;
            } else if (desiredGrade == "A-") {
                requiredFinalScore = (0.80 - totalScore) / finalWeight;
            } else if (desiredGrade == "B+") {
                requiredFinalScore = (0.75 - totalScore) / finalWeight;
            } else if (desiredGrade == "B") {
                requiredFinalScore = (0.70 - totalScore) / finalWeight;
            } else if (desiredGrade == "B-") {
                requiredFinalScore = (0.65 - totalScore) / finalWeight;
            } else if (desiredGrade == "C+") {
                requiredFinalScore = (0.60 - totalScore) / finalWeight;
            } else if (desiredGrade == "C") {
                requiredFinalScore = (0.55 - totalScore) / finalWeight;
            } else if (desiredGrade == "C-") {
                requiredFinalScore = (0.50 - totalScore) / finalWeight;
            } else if (desiredGrade == "D+") {
                requiredFinalScore = (0.45 - totalScore) / finalWeight;
            } else if (desiredGrade == "D") {
                requiredFinalScore = (0.40 - totalScore) / finalWeight;
            } else if (desiredGrade == "D-") {
                requiredFinalScore = (0.35 - totalScore) / finalWeight;
            } else {
                requiredFinalScore = "N/A";
            }

            // Display required final score rounded to 2 decimal places
            document.getElementById("requiredFinalScore").innerHTML = (requiredFinalScore * 100).toFixed(2) + "%";
	          window.scrollTo(0,document.body.scrollHeight);
        }
    </script>
</head>

<body>
    <h1>Final Grade Estimator</h1>z
    <h3>Please enter your grades as percents without the <code>%</code> sign.</h3>
    <form>
        <fieldset>
            <legend>Assignment Scores</legend>
            <label>Project Score:</label>
            <input type="number" id="projectScore" min="0" max="100" step="0.01" value="100">
            <br>
            <label>Homework Score:</label>
            <input type="number" id="homeworkScore" min="0" max="100" step="0.01" value="100">
            <br>
            <label>Midterm Score:</label>
            <input type="number" id="midtermScore" min="0" max="100" step="0.01" value="75.5">
        </fieldset>
        <fieldset>
            <legend>Extra Credit</legend>
            <label>Number of Discussion Sections Attended:</label>
            <input type="number" id="discussionSectionCount" min="0" max="10" value="0">
            <label>Project Extra Credit: One extra point on Project 1</label>
            <input type="checkbox" id="projExtraCredit">
            <label>Midterm Extra Credit: One extra point on Midterm 1</label>
            <input type="checkbox" id="mtExtraCredit">
        </fieldset>
        <fieldset>
            <legend>Desired Grade</legend>
            <label>Desired Letter Grade:</label>
            <select id="desiredGrade">
			<option value="A">A</option>
			<option value="A-">A-</option>
			<option value="B+">B+</option>
			<option value="B">B</option>
			<option value="B-">B-</option>
			<option value="C+">C+</option>
			<option value="C">C</option>
			<option value="C-">C-</option>
			<option value="D+">D+</option>
			<option value="D">D</option>
			<option value="D-">D-</option>
			<option value="F">F</option>
		</select>
        </fieldset>
    </form>
    <button onclick="calculateGrade()">Calculate Required Final Score</button>
    <h3>Required Final Score for Desired Grade: <span id="requiredFinalScore"></span></h3>
</body>

</html>
